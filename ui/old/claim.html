<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Amaru PI - claim</title>
  <script src="https://cdn.jsdelivr.net/npm/@meshsdk/core@1.10.0/dist/mesh.umd.min.js"></script>
  <style>
    html {
      height: 100%;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
      gap: 1rem;
      padding: 1rem;
    }

    #success-image {
      max-width: 300px;
      display: none;
    }

    #send-btn {
      display: block;
      margin: 0.5rem auto 0 auto;
      /* top margin + horizontal center */
    }
  </style>
  <script src="https://unpkg.com/@biglup/cometa@1.1.102/dist/iife/index.global.js"></script>
</head>

<body>

  <form id="tx-form" novalidate>
    <input type="text" id="input-words" placeholder="word1-word2-word3" pattern="^[a-zA-Z]+-[a-zA-Z]+-[a-zA-Z]+$"
      required />
    <div class="error-message" id="error-msg">Enter exactly three words separated by hyphens</div>
    <button id="send-btn" disabled>Send Transaction</button>
  </form>

  <div id="success-section">
    <p class="info-message" id="waiting-msg">Transaction is being confirmed...</p>
    <div id="tx-details"></div>
    <img id="nft-image" src="" alt="NFT Image" style="max-width:300px; display:none; margin-top:1rem;">
  </div>

  <script>
    const provider = new Cometa.BlockfrostProvider({
      network: Cometa.NetworkMagic.Preprod,
      projectId: 'YOUR_BLOCKFROST_PROJECT_ID'
    });

    Cometa.ready().then(() => {
      console.log('Cometa is ready!');
      const version = Cometa.getLibCardanoCVersion();
      console.log('Library version:', version);
    });

    const WALLET_NAME = 'lace';

    // Request access, enabling the CIP-95 (governance) extension
    const cip30Api = await window.cardano[WALLET_NAME].enable({
      extensions: [{ cip: 95 }]
    });

    // Create a Cometa wallet instance from the CIP-30 API
    const wallet = new Cometa.BrowserExtensionWallet(cip30Api, provider);
  </script>
</body>

</html>